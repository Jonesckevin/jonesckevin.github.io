{{ define "main" }}
<div class="hero-section">
    <h1 class="hero-title">{{ .Site.Params.aitools.hero_title }}</h1>
    <p class="hero-description">
        {{ .Site.Params.aitools.hero_description }}
    </p>
</div>

<div class="services-grid">
    {{- range $menuName := slice "coreservices" "learning" "creative" "gaming" }}
    {{- $menu := index $.Site.Menus $menuName }}
    {{- range $menu }}
    {{- if and .Params.show_home (ne .Name "Home") }}
    <div class="service-card">
        <div class="card-header">
            <h3>{{ .Params.home_title }}</h3>
        </div>
        <div class="card-content">
            <div class="card-content-wrapper">
                <p>{{ .Params.home_description }}</p>
                <ul class="feature-list">
                    {{- range .Params.home_features }}
                    <li>{{ . }}</li>
                    {{- end }}
                </ul>
            </div>
        </div>
        <div class="card-footer">
            <a href="{{ .URL | relLangURL }}" class="cta-button">{{ .Params.home_cta | default "Start" }}</a>
        </div>
    </div>
    {{- end }}
    {{- end }}
    {{- end }}
</div>

<div class="security-section">
    <h2>{{ .Site.Params.aitools.security_title }}</h2>
    <div class="security-grid">
        {{- range .Site.Params.aitools.security }}
        <div class="security-item">
            <h4>{{ .title }}</h4>
            <p>{{ .description }}</p>
        </div>
        {{- end }}
    </div>
</div>

{{/* AI Tools Collection Schema */}}
{{ if .IsSection }}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "AI Tools Collection",
  "description": "Professional AI-powered tools for productivity and workflow enhancement",
  "url": "{{ .Permalink }}",
  "numberOfItems": {{ len .Pages }},
  "itemListElement": [
    {{ range $index, $page := .Pages }}
    {
      "@type": "SoftwareApplication",
      "position": {{ add $index 1 }},
      "name": "{{ $page.Title }}",
      "description": "{{ if $page.Params.description }}{{ $page.Params.description }}{{ else }}{{ $page.Summary | plainify | truncate 160 }}{{ end }}",
      "url": "{{ $page.Permalink }}",
      "applicationCategory": "Productivity",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "availability": "https://schema.org/InStock"
      }
    }{{ if ne $index (sub (len $.Pages) 1) }},{{ end }}
    {{ end }}
  ]
}
</script>
{{ end }}

{{ end }}