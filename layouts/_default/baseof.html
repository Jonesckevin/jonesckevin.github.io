<!DOCTYPE html>
<html lang="{{ .Site.Language }}">

<head>
    {{ partial "head.html" . }}
    <script>
        // Apply theme before page renders to avoid flash
        (function () {
            const defaultTheme = '{{ .Site.Params.defaultTheme | default "auto" }}';
            const savedTheme = localStorage.getItem('theme');
            let theme = savedTheme || defaultTheme;
            // If theme is auto, check system preference
            if (theme === 'auto') {
                theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            }
            if (theme === 'dark' || theme === 'light') {
                document.documentElement.setAttribute('data-theme', theme);
            }
        })();
    </script>
</head>

{{ block "body" . }}

<body class="section-{{ lower .Section }}">
    {{ end }}

    <div class="container">
        {{ partial "header.html" . }}
        <!--{{ partial "side-menu-LR.html" . }}-->

        <div class="content">
            {{ block "main" . }}{{ end }}
        </div>

        {{ block "footer" . }}
        {{ partial "footer.html" . }}
        {{ end }}
    </div>

    {{ partial "javascript.html" . }}
</body>

</html>